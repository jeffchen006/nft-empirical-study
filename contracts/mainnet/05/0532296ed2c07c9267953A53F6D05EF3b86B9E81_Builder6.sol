// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

contract Builder6 {
  constructor() {}

  function data() public pure returns (string memory) {
    // index.5.html
    string
      memory html = '<script defer="defer">(()=>{var e={825:(e,t)=>{let o=[[10001,10011,10021],[10031,10041,10051],[10061,10071,10081],[10091,10101,10111],[10121,10131,10141],[10151,10161,10171],[10181,10191,10201],[10211,10221,10231],[10241,10251,10261],[10271,10281,10291],[10301,10311,10321],[10331,10341,10351],[10391,10401,10411]],r=[[[.6,.805,1],[.6,.805,1]],[[.828,.848,.942],[.828,.848,.942]],[[.614,.926,.998],[.614,.926,.998]],[[.924,.819,.949],[.924,.819,.949]]];const n=["body","floor","glasses","shirt","ground","hand","headtop","neck","shoes"],a=["floor","glasses","ground","hand","headtop","neck","shirt","shoes"],s=["hand","glasses","ground","headtop","shirt","neck"];t.rl=n,t.Po=o,t.Ys=r,t.gn=e=>{let t={};for(let o of n)t[o]=e[o].filter((e=>!!e)).map((e=>e.the.index)).sort(((e,t)=>e-t));return t},t.u9=(e,t)=>{const i=[],u=e+e+e+e+e;for(let e=0;e<u.length;e+=7){const t=u.substr(e,7);i.push(parseInt(t,16))}const c={},l={},d={};for(let e of n){const o=i.pop(),r=t[e],n=o%r.length;c[e]=r[n],l[e]=r[n]}const f=i.pop()%o.length;for(let e of n){if(-1!==a.indexOf(e)){const t=i.pop()%10*10+i.pop()%10;if(t<80)if(t<50)c[`theme:${e}`]=f,d[e]=f;else{const t=i.pop()%o.length;c[`theme:${e}`]=t,d[e]=t}}if(-1!==s.indexOf(e)){i.pop()%10*10+i.pop()%10<15&&(delete c[e],delete c[`theme:${e}`],delete l[e],delete d[e])}}const m=i.pop()%r.length;return c.sky=m,{allSel:c,sel:l,themeFor:d,sky:m}},t.Mm=e=>{const t=[];for(const o in e)if(-1!==o.indexOf("theme:"))t.push(`${o}:${e[o]}`);else if("sky"===o)t.push(`${o}:${e[o]}`);else{const r=e[o];t.push(`${o}:the:${r}`)}return t.join("-")}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}(()=>{"use strict";function e(e,t,o,r){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA32F,o,r,0,e.RGBA,e.FLOAT,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n}function t(e,t,o,r){const n=r?Math.ceil(r/2048):2048;e.bindTexture(e.TEXTURE_2D,o),e.texSubImage2D(e.TEXTURE_2D,0,0,0,2048,n,e.RGBA,e.FLOAT,t),e.bindTexture(e.TEXTURE_2D,null)}function r(e,t,o,r,n){const a=n?Math.ceil(n/2048):2048;e.bindBuffer(e.PIXEL_UNPACK_BUFFER,t),e.bindTexture(e.TEXTURE_2D,o),e.texSubImage2D(e.TEXTURE_2D,0,0,0,2048,a,e.RGBA,e.FLOAT,r),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null)}function n(e,t){e.getShaderParameter(t,e.COMPILE_STATUS)}function a(e,t,o,r){const a=e.createProgram(),s=e.createShader(e.VERTEX_SHADER);e.shaderSource(s,t),e.compileShader(s),n(e,s),e.attachShader(a,s);const i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,o),e.compileShader(i),n(e,i),e.attachShader(a,i),r&&r(a),e.linkProgram(a),function(e,t){if(!e.getProgramParameter(t,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(t))}(e,a),a}function s(e,t,o,r){o.forEach((([o,r,n])=>{e[`uniform${r}`](e.getUniformLocation(t,o),n)}))}function i(e,t,o){const r=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW),o&&e.bufferSubData(e.ARRAY_BUFFER,0,Float32Array.from(o)),r}function u(e,t,o,r=0,n=0){return e.bindBuffer(e.ARRAY_BUFFER,t),e.getBufferSubData(e.ARRAY_BUFFER,r,o,0,n),e.bindBuffer(e.ARRAY_BUFFER,null),o}async function c(e){return new Promise((function(t){var o=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),setTimeout((function r(){e.getSyncParameter(o,e.SYNC_STATUS)==e.SIGNALED?(e.deleteSync(o),t()):setTimeout(r,0)}),0)}))}let l={},d=-1,f={},m=-1,h=0,p=0,T=null;function E(){if(-1===d){if(f){const e=(Date.now()-h)/1e3/p,t=Math.min(e,1),o=A(l,f,t);return e>=1&&(l=f,f=null),o}return l}if(m>-1){const e=(Date.now()-h)/1e3/p,t=Math.min(e,1),o=A(v(d),v(m),t);return e>=1&&(d=m,m=-1),o}return v(d)}function A(e,t,o){return{pos:add(e.pos,mul(sub(t.pos,e.pos),o)),lookAt:add(e.lookAt,mul(sub(t.lookAt,e.lookAt),o)),zoom:e.zoom+(t.zoom-e.zoom)*o}}function v(e){const t=function(e){const t=Date.now()/1e3;if(0===e){const e=Math.sin(t),o=Math.cos(t)/2;return{pos:vec(Math.sin(e)+Math.cos(o),Math.sin(o)/2+.2,-Math.cos(e)),lookAt:vec(0,0,0),zoom:.5+(Math.sin(t+.5)+1)/4}}if(1===e){const e=t/1.4;return{pos:vec(Math.sin(e),.3,-Math.cos(e)),lookAt:vec(-.05,1.5,-.4),zoom:1}}if(2===e){const e=-1;return{pos:vec(Math.sin(e),.3,-Math.cos(e)),lookAt:vec(-.05,1.5,-.4),zoom:1}}if(3===e){const e=0;return{pos:vec(Math.sin(e),.2,-Math.cos(e)),lookAt:vec(-.05,1.5,-.4),zoom:1.3}}if(4===e)return{pos:vec(0,.25,-2),lookAt:vec(-.05,1.5,-.4),zoom:6};if(5===e)return{pos:vec(0,.25,-2),lookAt:vec(-.05,2,-.4),zoom:9};if(6===e){const e=-1.6;return{pos:vec(Math.sin(e),.2,-Math.cos(e)),lookAt:vec(0,.5,0),zoom:2}}if(7===e){const e=t/1.2;return{pos:vec(Math.sin(e),.2,-Math.cos(e)),lookAt:vec(-.05,2,-.4),zoom:2}}if(8===e)return{pos:vec(-1.2,.35,-1.75),lookAt:vec(-.05,2,-.4),zoom:8};if(9===e)return{pos:vec(-1.2,.35,-1.75),lookAt:vec(-.05,1.25,-.4),zoom:7};if(10===e)return{pos:vec(-1,.25,-.2),lookAt:vec(0,1.7,-.2),zoom:4.5};if(11===e){const e=t/6,o=Math.sin(e)/2;return{pos:vec(o,.25,-2),lookAt:vec(-.05,1.5,-.4),zoom:6}}return{...T,zoom:6,skipScale:!0}}(e);return t.skipScale?(t.zoom*=3,t):{pos:mul(t.pos,20),lookAt:t.lookAt,zoom:3*t.zoom}}let R=window;const g={el:null,reversed:!1},x={pos:vec(0,10,0),lookAt:vec(0,1.5,0),zoom:6};let b=null,B=null;const F={radius:1,phi:0,theta:0},_={radius:40,phi:Math.PI/2,theta:-Math.PI/2},k={radius:1,phi:0,theta:0},D=2*Math.PI/3,S=.25;let M=vec(0,0,0),w=vec(0,0,0);let U=vec(0,2,-.5);const y=.85/10;function C(e,t,o){return Math.max(t,Math.min(o,e))}function P(e){if(0===e.button)B=vec(e.clientX,e.clientY,0),b=0;null!==b&&(R.addEventListener("mousemove",I,!1),R.addEventListener("mouseup",L,!1))}function I(e){0===b&&function(e,t){const o=vec(e,t,0),r=mul(sub(o,B),.5);let n=g.el===document?document.body:g.el;F.theta-=(g.reversed?-1:1)*(2*Math.PI*r.x)/n.clientHeight,F.phi-=2*Math.PI*r.y/n.clientHeight,B=o}(e.clientX,e.clientY)}function z(e){F.radius/=e}function N(){return Math.pow(.95,1)}function X(e){e.stopPropagation(),e.preventDefault(),e.deltaY<0?z(1/N()):e.deltaY>0&&z(N())}function L(){R.removeEventListener("mousemove",I,!1),R.removeEventListener("mouseup",L,!1),b=null}let O=window;function Y(t,o,n,i,u,c,l,f,A,v,R,b,B){const I=o;let z=O.shaders.raymarcherFragment,N=0;const L=t;let Y,$,G=[0,0,0,0],K=[0,0,-99,0],V=0,H=new Date/1e3,W=0,j=0;var Z;Z=function(e=!1){const t=document;return g.el=t,g.reversed=e,t.addEventListener("mousedown",P,!1),t.addEventListener("wheel",X,{passive:!1}),x}(),T=Z,d=A,m=-1;let q=!0;const J=()=>{function d(){let e=O.innerHeight,t=O.innerWidth;o.width=t*n,o.height=e*n,o.style.width=`${t}px`,o.style.height=`${e}px`}$=()=>{Y=a(t,"#version 300 es\\nin vec2 position;\\nout vec2 fragCoord;\\nvoid main(){\\n  gl_Position=vec4(position,0,1);\\n  fragCoord=position;\\n}",z),t.useProgram(Y);const{outNodes:o,resultBuffer:n,normalBuffer:d}=u;let m=e(t,o,2048,2048),h=e(t,null,2048,2048);r(t,n,h,0);let p=e(t,null,2048,2048);r(t,d,p,0);let T=e(t,c,1024,16);t.deleteBuffer(n),t.deleteBuffer(d);const A=E();s(t,Y,[["uColors","3fv",R.flat()],["uMaterials","4fv",i.mats.map((e=>[e.roughness,e.metalness,0,0])).flat()],["uBoundsMin","3fv",vecToArray(l)],["uBoundsMax","3fv",vecToArray(f)],["iTreeTex","1i",0],["iStrokesTex","1i",1],["uResultTex","1i",2],["uNormalTex","1i",3],["uCameraPos","3fv",vecToArray(A.pos)],["uCameraLookAt","3fv",vecToArray(A.lookAt)],["uCameraZoom","1f",A.zoom],["uBackgroundColor1","3fv",b],["uBackgroundColor2","3fv",B]]),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,m),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,T),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,h),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,p),function(e){e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,5120,0,0,0),e.bufferData(e.ARRAY_BUFFER,new Int8Array([-3,1,1,-3,1,1]),35044)}(t),L.clearColor(1,0,0,1),L.clear(L.COLOR_BUFFER_BIT)},oninput=$,$(),O.resize=d,O.addEventListener("resize",d,!1),d();const m=()=>{W=new Date/1e3-H,H=new Date/1e3,function(){_.radius*=F.radius,_.theta+=F.theta,_.phi+=F.phi,_.theta=C(_.theta,-1/0,1/0),_.phi=C(_.phi,.1,D),_.radius=C(_.radius,20,60),k.phi+=(_.phi-k.phi)*S,k.theta+=(_.theta-k.theta)*S,k.radius+=(_.radius-k.radius)*S,U=add(U,M);let e=k.radius*Math.sin(Math.max(1e-6,k.phi));w.x=e*Math.cos(k.theta),w.y=k.radius*Math.cos(k.phi),w.z=e*Math.sin(k.theta),x.pos=add(U,w),x.lookAt=vec(...vecToArray(U)),F.theta*=y,F.phi*=y,M=mul(M,y),F.radius=1}();const e=E();s(t,Y,[["iTimeDelta","1f",W],["iTime","1f",V+=W],["iFrame","1i",N++],["iDate","1f",~~H],["iMouse","4fv",G],["iResolution","2fv",[t.drawingBufferWidth,t.drawingBufferHeight]],["iLastClick","4fv",K],["uCameraPos","3fv",vecToArray(e.pos)],["uCameraLookAt","3fv",vecToArray(e.lookAt)],["uCameraZoom","1f",e.zoom]]),function(e){e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.drawArrays(6,0,3)}(t),v(t),q&&requestAnimationFrame(m)};function h(e,t){var o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}m(),onmousedown=onmouseup=()=>{j^=1},I.onmousemove=function(e){if(j){const t=h(I,e);G[0]=t.x,G[1]=t.y}},I.onclick=function(e){const t=h(I,e);G[2]=t.x,G[3]=t.y,K[0]=t.x,K[1]=t.y,K[2]=V}};return onload=function(){J()},{main:J,setCamera:function(e){!function(e,t){m=e,h=Date.now(),p=t}(e,.5)},stop:()=>{q=!1}}}var $=o(825);let G=window;async function K(o,r,n,l,d){setupRepoModels();const f=G.repo,{strokes:m}=buildRepo(o,!1),h={};for(let e of $.rl)h[e]={};for(let e of m[0].part)for(let t=0;t<e.strokes.length;t++){const o=e.strokes[t];"attach"!==o.primitive&&"sub"!==o.mode&&(void 0===h[o.partName][o.material]&&(h[o.partName][o.material]=0),h[o.partName][o.material]+=1)}const p={};for(let e of $.rl)p[e]=Object.entries(h[e]),p[e]=p[e].sort(((e,t)=>t[1]-e[1])),p[e]=p[e].map((([e,t])=>[parseInt(e,10),t]));const T={},E={};let A=0;o.split("-").map((e=>{const t=e.split(":");-1!==e.indexOf("theme")?E[t[1]]=parseInt(t[2]):-1!==e.indexOf("sky")?A=parseInt(t[1]):T[t[0]]=parseInt(t[2])}));const v=$.Ys[A][1],R=$.Ys[A][0],g=m[0].part.map((e=>{const t=e.strokes[0].partName;let o=p[t].map((([e])=>e));const r=o.length;let n=!1,a=[];if("ground"===t)2===T.ground?(a=[3,1,2],n=!0):6===T.ground?(a=[1,2,3],n=!0):7===T.ground?(a=[0,1,3],n=!0):9===T.ground?(a=[3,4,5],n=!0):10===T.ground||12===T.ground?(a=[1,2,3],n=!0):15===T.ground&&(a=[0,1,3],n=!0);else if("hand"===t)switch(T.hand){case 1:a=[3,1,2],n=!0;break;case 4:case 5:a=[0,1],n=!0;break;case 8:a=[4,5],n=!0}else if("floor"===t&&1===T.floor)a=[1,3],n=!0;return n&&(o=a.map((e=>p[t][e][0]))),e.strokes=e.strokes.map((e=>{const a=E[t];if(void 0===a)return e;const s=$.Po[a]||[];return(r<=s.length||n)&&(o[0]==e.material?e.material=s[0]:o[1]==e.material?e.material=s[1]:o[2]==e.material&&(e.material=s[2])),e})),e})),x=[];g.forEach((e=>{e.strokes.map((e=>{x.push(e.material)}))}));const b=[...new Set(x)].sort(((e,t)=>e-t)),B={};let F=0;for(let e of b)B[e]=F,F++;const _=f.hardcoded,k=f.randomized[0],D=[];for(let e=0;e<b.length;e++){const t=b[e];if(t<1e4){const e=_[(t-1)/10];D.push(e)}else{const e=k[(t-1e4-1)/10];D.push(e)}}D[0]=_[0];const S=g.map((e=>(e.strokes=e.strokes.map((e=>(e.material=10*B[e.material.toString()]+1,e))),e))),M=strokesToData(S),w=document.createElement("canvas");document.body.appendChild(w);const U=w.getContext("webgl2",{antialias:!1,depth:!1,scissor:!1}),y=await async function(o,r,n,l,d,f,m=!1){const h=window.shaders.octreeVertex;await c(o);const p=sub(l,n),T=add(n,div(p,2)),E=f.outNodes||new Float32Array(2e7);E[0]=1,E[1]=99,E[2]=99,E[3]=99;const A=f.inNodes||new Float32Array(2e7);A[0]=T.x,A[1]=T.y,A[2]=T.z,A[3]=-1;let v=1,R=v+8,g=0,x=1;const b=5e6;let B=f.nodeIndexBuffer;if(!B){const e=new Float32Array(b);for(let t=0;t<b;t++)e[t]=t;B=i(o,2e7,e)}const F=f.program||a(o,h,"#version 300 es\\n  precision highp float;\\n  void main() {\\n  }\\n  ",(e=>{o.transformFeedbackVaryings(e,["oNode","oResult","oCoord","oNormal"],o.SEPARATE_ATTRIBS)})),_=8e7,k=f.nodeBuffer||i(o,_,[1,0,0,0]),D=f.resultBuffer||i(o,_,[1,0,0,0]),S=f.coordBuffer||i(o,_,[...vecToArray(T),99]),M=f.normalBuffer||i(o,_,[0,0,0,0]),w=f.nodeOutBufferData||new Float32Array(2e7),U=f.coordOutBufferData||new Float32Array(2e7),y=f.tf||o.createTransformFeedback(),C=f.treeTex||e(o,A,2048,2048),P=f.vao||function(e,t,o,r){const n=e.getAttribLocation(t,r),a=e.createVertexArray();return e.bindVertexArray(a),e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,1,e.FLOAT,!1,0,0),a}(o,F,B,"iNodeIndex");await c(o);const I=f.strokesTex||e(o,r,2048,16);for(f.strokesTex&&t(o,r,I,28*r[0]/4),o.bindBuffer(o.ARRAY_BUFFER,null),await c(o),o.enable(o.RASTERIZER_DISCARD),o.useProgram(F),o.bindVertexArray(P),g=0;g<=d;g+=1){const e=8*x;s(o,F,[["uDepth","1i",g],["uBoundsSize","3fv",vecToArray(p)],["uMaxDepth","1i",d],["uDoubleMaxDepth","1i",m?1:0],["iTime","1i",0],["uTreeTex","1i",0],["uStrokesTex","1i",1]]),t(o,A,C,e),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,C),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,I),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,y);const r=4*v*4,n=4*e*4;o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,k),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,1,D,r,n),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,2,S,r,n),o.bindBufferRange(o.TRANSFORM_FEEDBACK_BUFFER,3,M,r,n),o.beginTransformFeedback(o.POINTS),o.drawArrays(o.POINTS,0,e),o.endTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null),await c(o);let a=v,i=0;const l=u(o,k,w,0,4*e),f=u(o,S,U,r,4*e);for(let t=0;t<e;t++){const e=l[4*t+0],o=[f[4*t+0],f[4*t+1],f[4*t+2]];E[4*a+0]=e>.1?R:e<-.1?-1:0,E[4*a+1]=99,E[4*a+2]=99,E[4*a+3]=99,a+=1,e>.1&&(R+=8,g<d&&(A[4*i+0]=o[0],A[4*i+1]=o[1],A[4*i+2]=o[2],A[4*i+3]=1,i+=1))}v=a,x=i}return o.useProgram(null),o.bindVertexArray(null),o.disable(o.RASTERIZER_DISCARD),Object.assign(f,{outNodes:E,inNodes:A,program:F,tf:y,strokesTex:I,treeTex:C,nodeOutBufferData:w,coordOutBufferData:U,nodeBuffer:k,resultBuffer:D,coordBuffer:S,normalBuffer:M,vao:P,nodeIndexBuffer:B}),{inNodeCount:x,nodeBuffer:k,resultBuffer:D,normalBuffer:M,coordBuffer:S,outNodes:E}}(U,M,l.min,l.max,n,{}),{main:C,setCamera:P,stop:I}=Y(U,w,1,f,y,M,l.min,l.max,r,d,D,v,R);return C(),{setCamera:P,stop:I,canvas:w,gl:U}}const V=e=>{let t=H.location.search.substring(1).split("&");for(let o=0;o<t.length;o++){let r=t[o].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}};let H=window,W=null,j=null,Z=null,q=!1,J=!1,Q=!1,ee="notdefined";const te=async()=>{q=!0,j&&(oe(),await re(),W=j,j=null,await re());const{camera:e,voxelSize:t,hash:o}=W,r={min:vec(-3.51,-1.1,-3.51),max:vec(3.51,8,3.51)};Z=await K(o,e,t,r,ne),q=!1},oe=()=>{Z.stop();let e=document.querySelectorAll("canvas");e.forEach((e=>e.remove())),e=null,Z=null};async function re(){return new Promise((e=>setTimeout(e,0)))}function ne(e){if(j&&!q)te();else if(J){J=!1;(e=>{const t={name:"v-image",image:e};parent.postMessage(t,"*")})({name:`${`image-${W.hash.replaceAll(":the:","_").replaceAll(":","_")}`}-c${W.camera}.png`,download:Q,downloadNumber:ee,data:e.canvas.toDataURL()})}}const ae=e=>{const t=(0,$.gn)(H.repo.models),{allSel:o}=(0,$.u9)(e,t);return(0,$.Mm)(o)};function se(e){const t={...W,...j||{},...e};t.camera===W.camera&&t.voxelSize===W.voxelSize&&t.hash===W.hash&&t.models===W.models||(j=t)}H.addEventListener("message",(async e=>{switch(e.data.name){case"e-models":se({models:e.data.models});break;case"e-image":ee="notdefined",Q=!1,J=!0;break;case"e-down":ee=e.data.number,Q=!0,J=!0;break;case"e-seed":H.seed=e.data.seed,se({hash:ae(e.data.seed)});break;case"e-data":{const e=(0,$.gn)(H.repo.models),t={name:"v-data",models:H.models,seed:H.seed,repoIndex:(0,$.gn)(H.repo.models),sel:(0,$.u9)(H.seed,e),camera:W.camera,voxelSize:W.voxelSize};parent.postMessage(t,"*");break}case"e-sel":{H.seed=e.data.seed;const t=[];for(const o in e.data.selected)t.push(`${o}:the:${e.data.selected[o]}`);for(const o in e.data.themeFor)t.push(`theme:${o}:${e.data.themeFor[o]}`);t.push(`sky:${e.data.sky}`),se({hash:t.join("-")});break}case"e-cam":W.camera=e.data.camera,Z?.setCamera(W.camera);break;case"e-set-voxel":se({voxelSize:e.data.voxelSize})}}));const ie=V("seed")||H.seed;W={camera:parseInt(V("cam"))||4,voxelSize:6,hash:ae(ie),models:H.models},te()})()})();</script>';
    return html;
  }
}